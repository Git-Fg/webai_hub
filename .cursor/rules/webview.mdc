---
description: WebView debugging checklist (JS build, console logs, selectors)
globs: lib/features/webview/**/*.dart, ts_src/**/*.ts
alwaysApply: false
---

## WebView Debugging Checklist

1. **Did you change TypeScript?**
    - Run `npm run build`. The app uses `assets/js/bridge.js`, not the source `.ts` file.

2. **Is there a JavaScript error?**
    - Check the WebView console logs in your IDE (`onConsoleMessage` in `@webview_screen`). Look for "function not found" or "null" errors.

3. **Is it a selector issue?**
    - Manually validate your selectors using `validation/aistudio_selector_validator.js` in a browser.

4. **Is it a timing issue?**
    - Avoid adding `Future.delayed`. Look for a race condition or a missing callback. Use a `// TIMING:` comment only as a last resort.
